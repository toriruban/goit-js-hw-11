{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchPhotosByQuery = query => {\n    const searchParams = new URLSearchParams({\n        key: '49835598-9f74b1000f2ba2b610eab7f75',\n        q: query,\n        image_type: 'photo', \n        orientation: 'horizontal',\n        safesearch: true,\n      });\n\n    return fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then(response => {\n            if(!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\"; \n\nexport const createGalleryCardTemplate = img => `\n  <li class=\"gallery-item\">\n    <a href=\"${img.largeImageURL}\">\n      <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n    </a>\n    <div class=\"comment-box\">\n      <p class=\"img-comment\"><b>Likes:</b> ${img.likes}</p>\n      <p class=\"img-comment\"><b>Views:</b> ${img.views}</p>\n      <p class=\"img-comment\"><b>Comments:</b> ${img.comments}</p>\n      <p class=\"img-comment\"><b>Downloads:</b> ${img.downloads}</p>\n    </div>\n  </li>`;","'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\"; \n\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport { createGalleryCardTemplate } from './js/render-functions';\n\nconst searchForm = document.querySelector('.form');\nconst inputSearchImages = document.querySelector('.input-search');\nconst resultsDiv = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.gallery a', { captionsData: \"alt\", captionDelay: 250 });\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const searchedQuery = inputSearchImages.value.trim();\n    \n    if (!searchedQuery) {\n        iziToast.error({\n            title: 'Error',\n            message: 'The search field cannot be empty. Please try again!',\n            position: 'topRight'\n        });\n        return;\n    }\n    resultsDiv.innerHTML = '';\n    inputSearchImages.value = '';\n    loader.classList.remove('hidden');\n\n    fetchPhotosByQuery(searchedQuery)\n    .then(data => {\n        loader.classList.add('hidden');\n\n        if (data.hits.length === 0) {\n            iziToast.warning({\n                title: 'No results',\n                message: 'No images found for your query!',\n                position: 'topRight',\n            });\n            return;\n        }\n\n        resultsDiv.innerHTML = data.hits.map(createGalleryCardTemplate).join('');\n        lightbox.refresh();\n\n    }) \n    .catch(error => {\n        loader.classList.add('hidden'); \n        iziToast.error({\n            title: 'Error',\n            message: 'An error occurred. Please try again!',\n            position: 'topRight'\n        });\n        console.error(error);\n    })\n    .finally(() => {\n        searchForm.reset();\n    });\n};\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);"],"names":["fetchPhotosByQuery","query","searchParams","response","createGalleryCardTemplate","img","searchForm","inputSearchImages","resultsDiv","loader","lightbox","SimpleLightbox","onSearchFormSubmit","event","searchedQuery","iziToast","data","error"],"mappings":"6vBAAO,MAAMA,EAAqBC,GAAS,CACvC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAO,EAEH,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAClD,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECbaC,EAA4BC,GAAO;AAAA;AAAA,eAEjCA,EAAI,aAAa;AAAA,kBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,6CAGPA,EAAI,KAAK;AAAA,6CACTA,EAAI,KAAK;AAAA,gDACNA,EAAI,QAAQ;AAAA,iDACXA,EAAI,SAAS;AAAA;AAAA,SCDxDC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAoB,SAAS,cAAc,eAAe,EAC1DC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EAE1F,MAAMC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBP,EAAkB,MAAM,KAAI,EAElD,GAAI,CAACO,EAAe,CAChBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,sDACT,SAAU,UACtB,CAAS,EACD,MACH,CACDP,EAAW,UAAY,GACvBD,EAAkB,MAAQ,GAC1BE,EAAO,UAAU,OAAO,QAAQ,EAEhCT,EAAmBc,CAAa,EAC/B,KAAKE,GAAQ,CAGV,GAFAP,EAAO,UAAU,IAAI,QAAQ,EAEzBO,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,QAAQ,CACb,MAAO,aACP,QAAS,kCACT,SAAU,UAC1B,CAAa,EACD,MACH,CAEDP,EAAW,UAAYQ,EAAK,KAAK,IAAIZ,CAAyB,EAAE,KAAK,EAAE,EACvEM,EAAS,QAAO,CAExB,CAAK,EACA,MAAMO,GAAS,CACZR,EAAO,UAAU,IAAI,QAAQ,EAC7BM,EAAS,MAAM,CACX,MAAO,QACP,QAAS,uCACT,SAAU,UACtB,CAAS,EACD,QAAQ,MAAME,CAAK,CAC3B,CAAK,EACA,QAAQ,IAAM,CACXX,EAAW,MAAK,CACxB,CAAK,CACL,EAEAA,EAAW,iBAAiB,SAAUM,CAAkB"}